<div class="main-container">
    <div class="content-wrapper">
      <div class="card-container">
        <h2 class="title">FibraPoints</h2>
        
        <div class="welcome-section">
          <p class="welcome-text">
            ¡Bienvenido al programa de recompensas de Fibramax! 
            <span class="welcome-description">
              Descubre los beneficios exclusivos que tenemos para ti. 
              Consulta tus puntos acumulados ingresando tu número de cédula y comienza 
              a disfrutar de increíbles recompensas.
            </span>
          </p>
        </div>

        <div *ngIf="!showVerification" class="search-card">
          <div class="input-section">
            <p-floatlabel variant="on">
                <p-inputnumber 
                [(ngModel)]="cedula" 
                inputId="on_label" 
                [maxlength]="13"
                [useGrouping]="false"
                (onInput)="onInputChange($event)"
                class="custom-input" />
              <label for="on_label">Número de Cédula</label>
            </p-floatlabel>
          </div>
          
          <div class="button-section">
            <p-button 
              label="Consultar" 
              icon="pi pi-check" 
              [loading]="loading"
              [disabled]="!cedula || cedula.toString().length < 10"
              (onClick)="load()" />
          </div>
        </div>
  
        <!-- Sección de verificación -->
        <div *ngIf="showVerification" class="verification-section">
          <h3>Verificación de código</h3>
          <p class="verification-text">
            Se ha enviado un código de verificación al correo
            <span class="email-mask">{{maskedEmail}}</span>
          </p>
          
          <div class="code-inputs">
            <input *ngFor="let i of [0,1,2,3,4,5]" 
                   type="text" 
                   maxlength="1"
                   [(ngModel)]="codeDigits[i]"
                   (input)="onCodeInput($event, i)"
                   class="code-digit">
          </div>
  
          <div class="resend-section">
            <button class="resend-button" 
                    (click)="resendCode()"
                    [disabled]="loading">
              Reenviar
            </button>
          </div>
  
          <div class="verify-button-section">
            <p-button 
              label="Verificar código" 
              (onClick)="verifyCode()"
              [loading]="loading"
              [disabled]="!isCodeComplete()" />
          </div>
        </div>
      </div>
    </div>
  </div>